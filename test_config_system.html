<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        .test-section {
            background-color: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #444;
        }
        .test-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background-color: #45a049;
        }
        .log {
            background-color: #000;
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
        .status {
            background-color: #333;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .warning {
            background-color: #8B4513;
            color: #FFD700;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border: 2px solid #FFD700;
        }
        .success {
            background-color: #2E8B57;
            color: #90EE90;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border: 2px solid #90EE90;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–≥—Ä—ã</h1>
    
    <div class="warning">
        <h2>‚ö†Ô∏è –í–ê–ñ–ù–û –î–õ–Ø –ë–ê–õ–ê–ù–°–ò–†–û–í–ö–ò</h2>
        <p><strong>–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏–≥—Ä—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û —Ñ–∞–π–ª <code>src/config/game-config.json</code>!</strong></p>
        <ul>
            <li>‚úÖ <strong>JSON —Ñ–∞–π–ª</strong> - –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏</li>
            <li>‚ùå <strong>TypeScript —Ñ–∞–π–ª—ã</strong> - —Ç–æ–ª—å–∫–æ –¥–ª—è fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö</li>
            <li>üîÑ <strong>–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫</strong> - –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è JSON</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h2>
        <div class="status">
            <div><strong>–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:</strong> <span id="config-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</span></div>
            <div><strong>–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:</strong> <span id="source-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</span></div>
            <div><strong>JSON —Ñ–∞–π–ª:</strong> <span id="json-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</span></div>
        </div>
    </div>

    <div class="test-section">
        <h2>üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π</h2>
        <div>
            <button class="test-button" onclick="testConfigLoading()">–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</button>
            <button class="test-button" onclick="testConfigValues()">–¢–µ—Å—Ç –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</button>
            <button class="test-button" onclick="testDifficultySystem()">–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</button>
            <button class="test-button" onclick="testResourceSystem()">–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Ä–µ—Å—É—Ä—Å–æ–≤</button>
        </div>
    </div>

    <div class="test-section">
        <h2>üìù –õ–æ–≥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        <div class="log" id="test-log">
            <div>–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        </div>
        <button class="test-button" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
    </div>

    <div class="test-section">
        <h2>üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–µ</h2>
        <div class="success">
            <h3>–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –∏–≥—Ä—ã:</h3>
            <ol>
                <li><strong>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:</strong> <code>src/config/game-config.json</code></li>
                <li><strong>–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä</strong> –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ</li>
                <li><strong>–ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ</strong> –Ω–∞ –∂–µ–ª–∞–µ–º–æ–µ</li>
                <li><strong>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª</strong></li>
                <li><strong>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É</strong> –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
            </ol>
            
            <h3>–ü—Ä–∏–º–µ—Ä—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π:</h3>
            <ul>
                <li><strong>–û–ø—ã—Ç –∑–∞ –≤—Ä–∞–≥–æ–≤:</strong> –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ <code>"enemyKillRewards"</code></li>
                <li><strong>–ù–∞—á–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</strong> –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ <code>"initialResources"</code></li>
                <li><strong>–£—Ä–æ–Ω –≤—Ä–∞–≥–æ–≤:</strong> –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ <code>"enemyDamage"</code></li>
                <li><strong>–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:</strong> –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ <code>"resourceConsumption"</code></li>
            </ul>
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message) {
            const logElement = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            logElement.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
        }

        // –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–∞
        function clearLog() {
            document.getElementById('test-log').innerHTML = '<div>–õ–æ–≥ –æ—á–∏—â–µ–Ω...</div>';
        }

        // –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        async function testConfigLoading() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...');
            
            try {
                // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å JSON —Ñ–∞–π–ª
                const response = await fetch('/src/config/game-config.json');
                if (response.ok) {
                    const config = await response.json();
                    log('‚úÖ JSON —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω');
                    log(`üìä –ù–∞–π–¥–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–æ–≤: ${Object.keys(config).length}`);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
                    if (config.experience) log('‚úÖ –†–∞–∑–¥–µ–ª "experience" –Ω–∞–π–¥–µ–Ω');
                    if (config.initialResources) log('‚úÖ –†–∞–∑–¥–µ–ª "initialResources" –Ω–∞–π–¥–µ–Ω');
                    if (config.enemyDamage) log('‚úÖ –†–∞–∑–¥–µ–ª "enemyDamage" –Ω–∞–π–¥–µ–Ω');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                    document.getElementById('json-status').textContent = '‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω';
                    document.getElementById('source-status').textContent = 'JSON —Ñ–∞–π–ª';
                    
                } else {
                    log(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON: ${response.status} ${response.statusText}`);
                    document.getElementById('json-status').textContent = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ JSON: ${error.message}`);
                document.getElementById('json-status').textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
            }
        }

        // –¢–µ—Å—Ç –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        async function testConfigValues() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...');
            
            try {
                const response = await fetch('/src/config/game-config.json');
                if (response.ok) {
                    const config = await response.json();
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–ø—ã—Ç
                    if (config.experience) {
                        log(`üìä –ë–∞–∑–æ–≤—ã–π –æ–ø—ã—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è: ${config.experience.baseLevelExperience}`);
                        log(`üìä –û—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∑–∞ —É—Ä–æ–≤–µ–Ω—å: ${config.experience.abilityPointsPerLevel}`);
                        log(`üìä –û–ø—ã—Ç –∑–∞ –¥–µ–Ω—å: ${config.experience.dailyReward}`);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                    if (config.initialResources && config.initialResources.normal) {
                        const normal = config.initialResources.normal;
                        log(`üìä –ù–∞—á–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (normal): –µ–¥–∞=${normal.food}, –≤–æ–¥–∞=${normal.water}, –¥–µ–Ω—å–≥–∏=${normal.money}`);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–Ω –≤—Ä–∞–≥–æ–≤
                    if (config.enemyDamage && config.enemyDamage.baseDamage) {
                        log(`üìä –£—Ä–æ–Ω –≤—Ä–∞–≥–æ–≤: –ú–ê–†–û–î–ï–†=${config.enemyDamage.baseDamage.–ú–ê–†–û–î–ï–†}, –ó–û–ú–ë–ò=${config.enemyDamage.baseDamage.–ó–û–ú–ë–ò}`);
                    }
                    
                } else {
                    log('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π: ${error.message}`);
            }
        }

        // –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        async function testDifficultySystem() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É —Å–ª–æ–∂–Ω–æ—Å—Ç–∏...');
            
            try {
                const response = await fetch('/src/config/game-config.json');
                if (response.ok) {
                    const config = await response.json();
                    
                    if (config.difficulty) {
                        const difficulties = Object.keys(config.difficulty);
                        log(`üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: ${difficulties.join(', ')}`);
                        
                        difficulties.forEach(diff => {
                            const info = config.difficulty[diff];
                            log(`üìä ${diff}: ${info.name} - ${info.description}`);
                        });
                    }
                } else {
                    log('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: ${error.message}`);
            }
        }

        // –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Ä–µ—Å—É—Ä—Å–æ–≤
        async function testResourceSystem() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É —Ä–µ—Å—É—Ä—Å–æ–≤...');
            
            try {
                const response = await fetch('/src/config/game-config.json');
                if (response.ok) {
                    const config = await response.json();
                    
                    if (config.resourceConsumption) {
                        log('üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:');
                        
                        if (config.resourceConsumption.food) {
                            Object.keys(config.resourceConsumption.food).forEach(diff => {
                                const food = config.resourceConsumption.food[diff];
                                log(`üìä –ï–¥–∞ (${diff}): –∫–∞–∂–¥—ã–µ ${food.intervalHours}—á, –º–Ω–æ–∂–∏—Ç–µ–ª—å ${food.multiplier}`);
                            });
                        }
                        
                        if (config.resourceConsumption.water) {
                            Object.keys(config.resourceConsumption.water).forEach(diff => {
                                const water = config.resourceConsumption.water[diff];
                                log(`üìä –í–æ–¥–∞ (${diff}): –∫–∞–∂–¥—ã–µ ${water.intervalHours}—á, –º–Ω–æ–∂–∏—Ç–µ–ª—å ${water.multiplier}`);
                            });
                        }
                    }
                } else {
                    log('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤: ${error.message}`);
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
            document.getElementById('config-status').textContent = '‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é';
            
            setTimeout(() => {
                testConfigLoading();
                
                setTimeout(() => {
                    testConfigValues();
                    log('üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
                }, 1000);
            }, 500);
        });
    </script>
</body>
</html>
