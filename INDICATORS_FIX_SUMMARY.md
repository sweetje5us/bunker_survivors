# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

## üö® **–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!**

–§—É–Ω–∫—Ü–∏–∏ `forceCheckResourceChange` –∏ `showResourceChangeIndicator` **–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã** –≤ `window` –æ–±—ä–µ–∫—Ç–µ, —Ö–æ—Ç—è —Ä–µ—Å—É—Ä—Å—ã –∏–∑–º–µ–Ω—è—é—Ç—Å—è.

## üîç **–ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π**
   - `main.ts` (GameScene) –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–¥–æ** `ui-manager.js`
   - GameScene –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è **—Ä–∞–Ω—å—à–µ** HTML overlay

2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π**
   - `ui-manager.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–∞–∫ –º–æ–¥—É–ª—å
   - `game-overlay.html` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `fetch()`
   - –§—É–Ω–∫—Ü–∏–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–µ —É—Å–ø–µ–≤–∞—é—Ç —Å—Ç–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏

## üõ†Ô∏è **–í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### 1. **–ò–∑–º–µ–Ω–∏–ª–∏ –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤** (`index.html`)
```html
<!-- –ë—ã–ª–æ: main.ts –∑–∞–≥—Ä—É–∂–∞–ª—Å—è –ø–µ—Ä–≤—ã–º -->
<script type="module" src="/src/main.ts"></script>
<script type="module" src="/src/ui/ui-manager.js"></script>

<!-- –°—Ç–∞–ª–æ: ui-manager.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º -->
<script type="module" src="/src/ui/ui-manager.js"></script>
<script type="module" src="/src/main.ts"></script>
```

### 2. **–î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é** (`index.html`)
```javascript
<!-- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GameUIManager -->
<script type="module">
  import('./src/ui/ui-manager.js').then(() => {
    if (window.initGameUI) {
      window.initGameUI();
    }
  });
</script>
```

### 3. **–£—Å–∫–æ—Ä–∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏** (`GameScene.ts`)
```typescript
// –ë—ã–ª–æ: –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
setTimeout(() => this.initUIOverlay(), 1000);

// –°—Ç–∞–ª–æ: –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ 100ms
setTimeout(() => this.initUIOverlay(), 100);
```

### 4. **–î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** (`GameScene.ts`)
```typescript
private checkIndicatorsReady(): void {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 100ms –≤ —Ç–µ—á–µ–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥
  // –õ–æ–≥–∏—Ä—É–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
}
```

## üß™ **–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**

1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
   - `ui-manager.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
   - `GameUIManager` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - `game-overlay.html` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏

2. **–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ GameScene:**
   - UI overlay —É–∂–µ –≥–æ—Ç–æ–≤
   - –§—É–Ω–∫—Ü–∏–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## üìä **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**

```
[index.html] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º GameUIManager...
[index.html] GameUIManager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
[GameScene] HTML UI overlay initialized
[GameScene] ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –≥–æ—Ç–æ–≤—ã!
[processHourlyResourceProduction] üéØ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –≤–æ–¥—ã: +4 –µ–¥
[processHourlyResourceConsumption] üéØ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –µ–¥—ã: -4 –µ–¥
```

## üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É**
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
3. **–î–æ–∂–¥–∞—Ç—å—Å—è —Å–º–µ–Ω—ã —á–∞—Å–∞** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
4. **–£–±–µ–¥–∏—Ç—å—Å—è**, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ `forceCheckResourceChange` –¥–æ—Å—Ç—É–ø–Ω—ã
