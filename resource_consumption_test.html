<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #1a1b1e;
            color: #e0e0e0;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #4fc3f7;
        }
        h1 {
            color: #4fc3f7;
            text-align: center;
            margin-bottom: 30px;
        }
        .info-section {
            background-color: #333;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #4fc3f7;
        }
        .resource-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .resource-card {
            background-color: #444;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #555;
        }
        .resource-card h3 {
            color: #81c784;
            margin-top: 0;
        }
        .consumption-rate {
            font-size: 1.2em;
            color: #ff9800;
            font-weight: bold;
        }
        .multiplier {
            color: #e57373;
        }
        .next-increase {
            color: #64b5f6;
            font-style: italic;
        }
        .difficulty-info {
            background-color: #2e7d32;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .warning {
            background-color: #d32f2f;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success {
            background-color: #388e3c;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        button {
            background-color: #4fc3f7;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background-color: #29b6f6;
        }
        button:disabled {
            background-color: #666;
            cursor: not-allowed;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        .log {
            background-color: #000;
            color: #0f0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</h1>
        
        <div class="info-section">
            <h2>üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</h2>
            <div class="resource-info">
                <div class="resource-card">
                    <h3>üçñ –ï–¥–∞</h3>
                    <div class="consumption-rate">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: <span id="food-consumption">0</span> –µ–¥/—á–∞—Å</div>
                    <div class="multiplier">–ú–Ω–æ–∂–∏—Ç–µ–ª—å: <span id="food-multiplier">1</span>x</div>
                </div>
                <div class="resource-card">
                    <h3>üíß –í–æ–¥–∞</h3>
                    <div class="consumption-rate">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: <span id="water-consumption">0</span> –µ–¥/—á–∞—Å</div>
                    <div class="multiplier">–ú–Ω–æ–∂–∏—Ç–µ–ª—å: <span id="water-multiplier">1</span>x</div>
                </div>
            </div>
            
            <div class="difficulty-info">
                <strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> <span id="difficulty">normal</span> | 
                <strong>–î–µ–Ω—å:</strong> <span id="day-number">1</span> | 
                <strong>–ñ–∏—Ç–µ–ª–∏:</strong> <span id="resident-count">0</span>
            </div>
            
            <div class="next-increase">
                <strong>–°–ª–µ–¥—É—é—â–µ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è:</strong> –¥–µ–Ω—å <span id="next-increase-day">7</span>
            </div>
        </div>
        
        <div class="info-section">
            <h2>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
            <div class="controls">
                <button onclick="addResident()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∂–∏—Ç–µ–ª—è</button>
                <button onclick="removeResident()">‚ûñ –£–±—Ä–∞—Ç—å –∂–∏—Ç–µ–ª—è</button>
                <button onclick="advanceDay()">üìÖ –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å</button>
                <button onclick="changeDifficulty('easy')">üü¢ –õ–µ–≥–∫–∏–π</button>
                <button onclick="changeDifficulty('normal')">üü° –ù–æ—Ä–º–∞–ª—å–Ω—ã–π</button>
                <button onclick="changeDifficulty('hard')">üî¥ –°–ª–æ–∂–Ω—ã–π</button>
                <button onclick="simulateHour()">‚è∞ –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å</button>
            </div>
        </div>
        
        <div class="info-section">
            <h2>üìù –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π</h2>
            <div class="log" id="event-log">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        </div>
        
        <div class="info-section">
            <h2>üìö –ü—Ä–∞–≤–∏–ª–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
            <ul>
                <li><strong>–ë–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:</strong> 1 –µ–¥. –µ–¥—ã –∏ 1 –µ–¥. –≤–æ–¥—ã –Ω–∞ –∂–∏—Ç–µ–ª—è –≤ —á–∞—Å</li>
                <li><strong>–õ–µ–≥–∫–∏–π —É—Ä–æ–≤–µ–Ω—å:</strong> –∫–∞–∂–¥—ã–µ 10 –¥–Ω–µ–π +1 –µ–¥. –∫ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –Ω–∞ –∂–∏—Ç–µ–ª—è</li>
                <li><strong>–ù–æ—Ä–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:</strong> –∫–∞–∂–¥—ã–µ 7 –¥–Ω–µ–π +1 –µ–¥. –∫ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –Ω–∞ –∂–∏—Ç–µ–ª—è</li>
                <li><strong>–°–ª–æ–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:</strong> –∫–∞–∂–¥—ã–µ 7 –¥–Ω–µ–π +2 –µ–¥. –∫ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –Ω–∞ –∂–∏—Ç–µ–ª—è</li>
                <li><strong>–£—Ä–æ–Ω –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ:</strong> –ª–µ–≥–∫–∏–π 10%, –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π 25%, —Å–ª–æ–∂–Ω—ã–π 50% –æ—Ç –∑–¥–æ—Ä–æ–≤—å—è</li>
            </ul>
        </div>
    </div>

    <script>
        // –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä—ã
        let gameState = {
            difficulty: 'normal',
            dayNumber: 1,
            residents: 0,
            food: 100,
            water: 100,
            foodMultiplier: 1,
            waterMultiplier: 1
        };

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
        function calculateResourceConsumptionMultipliers() {
            const daysPassed = Math.max(0, gameState.dayNumber - 1);
            
            switch (gameState.difficulty) {
                case 'easy':
                    gameState.foodMultiplier = 1 + Math.floor(daysPassed / 10);
                    gameState.waterMultiplier = 1 + Math.floor(daysPassed / 10);
                    break;
                case 'normal':
                    gameState.foodMultiplier = 1 + Math.floor(daysPassed / 7);
                    gameState.waterMultiplier = 1 + Math.floor(daysPassed / 7);
                    break;
                case 'hard':
                    gameState.foodMultiplier = 1 + Math.floor(daysPassed / 7) * 2;
                    gameState.waterMultiplier = 1 + Math.floor(daysPassed / 7) * 2;
                    break;
                default:
                    gameState.foodMultiplier = 1;
                    gameState.waterMultiplier = 1;
            }
            
            logEvent(`–ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã: –µ–¥–∞ ${gameState.foodMultiplier}x, –≤–æ–¥–∞ ${gameState.waterMultiplier}x`);
        }

        function calculateHourlyResourceConsumption() {
            const foodConsumption = gameState.residents * 1 * gameState.foodMultiplier;
            const waterConsumption = gameState.residents * 1 * gameState.waterMultiplier;
            
            return { foodConsumption, waterConsumption };
        }

        function processHourlyResourceConsumption() {
            const { foodConsumption, waterConsumption } = calculateHourlyResourceConsumption();
            
            const oldFood = gameState.food;
            const oldWater = gameState.water;
            
            gameState.food = Math.max(0, gameState.food - foodConsumption);
            gameState.water = Math.max(0, gameState.water - waterConsumption);
            
            logEvent(`–†–∞—Å—Ö–æ–¥ —Ä–µ—Å—É—Ä—Å–æ–≤: –µ–¥–∞ ${oldFood} ‚Üí ${gameState.food} (-${foodConsumption}), –≤–æ–¥–∞ ${oldWater} ‚Üí ${gameState.water} (-${waterConsumption})`);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ—Ö–≤–∞—Ç–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤
            handleResourceShortage(oldFood, gameState.food, '–µ–¥—ã', '–≥–æ–ª–æ–¥');
            handleResourceShortage(oldWater, gameState.water, '–≤–æ–¥—ã', '–∂–∞–∂–¥–∞');
            
            updateDisplay();
        }

        function handleResourceShortage(oldAmount, newAmount, resourceType, damageReason) {
            if (newAmount >= 0) return;
            
            const shortage = Math.abs(newAmount);
            const residentCount = gameState.residents;
            
            if (residentCount === 0) return;
            
            logEvent(`‚ö†Ô∏è –ù–µ—Ö–≤–∞—Ç–∫–∞ ${resourceType}: ${shortage} –µ–¥., –∂–∏—Ç–µ–ª–µ–π: ${residentCount}`);
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —É—Ä–æ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            let damagePercent;
            switch (gameState.difficulty) {
                case 'easy':
                    damagePercent = 10;
                    break;
                case 'normal':
                    damagePercent = 25;
                    break;
                case 'hard':
                    damagePercent = 50;
                    break;
                default:
                    damagePercent = 25;
            }
            
            logEvent(`üíÄ ${shortage} –∂–∏—Ç–µ–ª–µ–π –ø–æ–ª—É—á–∞—é—Ç —É—Ä–æ–Ω –æ—Ç ${damageReason} (${damagePercent}% –æ—Ç –∑–¥–æ—Ä–æ–≤—å—è)`);
        }

        // –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        function addResident() {
            gameState.residents++;
            logEvent(`‚ûï –î–æ–±–∞–≤–ª–µ–Ω –∂–∏—Ç–µ–ª—å. –í—Å–µ–≥–æ: ${gameState.residents}`);
            updateDisplay();
        }

        function removeResident() {
            if (gameState.residents > 0) {
                gameState.residents--;
                logEvent(`‚ûñ –£–±—Ä–∞–Ω –∂–∏—Ç–µ–ª—å. –í—Å–µ–≥–æ: ${gameState.residents}`);
                updateDisplay();
            }
        }

        function advanceDay() {
            gameState.dayNumber++;
            calculateResourceConsumptionMultipliers();
            logEvent(`üìÖ –ù–∞—Å—Ç—É–ø–∏–ª –¥–µ–Ω—å ${gameState.dayNumber}`);
            updateDisplay();
        }

        function changeDifficulty(difficulty) {
            gameState.difficulty = difficulty;
            calculateResourceConsumptionMultipliers();
            logEvent(`‚öôÔ∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: ${difficulty}`);
            updateDisplay();
        }

        function simulateHour() {
            if (gameState.residents > 0) {
                processHourlyResourceConsumption();
                logEvent(`‚è∞ –ü—Ä–æ—à–µ–ª 1 —á–∞—Å`);
            } else {
                logEvent(`‚ö†Ô∏è –ù–µ—Ç –∂–∏—Ç–µ–ª–µ–π –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤`);
            }
        }

        function updateDisplay() {
            const { foodConsumption, waterConsumption } = calculateHourlyResourceConsumption();
            
            document.getElementById('food-consumption').textContent = foodConsumption;
            document.getElementById('water-consumption').textContent = waterConsumption;
            document.getElementById('food-multiplier').textContent = gameState.foodMultiplier;
            document.getElementById('water-multiplier').textContent = gameState.waterMultiplier;
            document.getElementById('difficulty').textContent = gameState.difficulty;
            document.getElementById('day-number').textContent = gameState.dayNumber;
            document.getElementById('resident-count').textContent = gameState.residents;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–µ–Ω—å —Å–ª–µ–¥—É—é—â–µ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
            let nextIncreaseDay;
            switch (gameState.difficulty) {
                case 'easy':
                    nextIncreaseDay = Math.ceil(gameState.dayNumber / 10) * 10;
                    break;
                case 'normal':
                case 'hard':
                    nextIncreaseDay = Math.ceil(gameState.dayNumber / 7) * 7;
                    break;
                default:
                    nextIncreaseDay = Math.ceil(gameState.dayNumber / 7) * 7;
            }
            document.getElementById('next-increase-day').textContent = nextIncreaseDay;
        }

        function logEvent(message) {
            const log = document.getElementById('event-log');
            const timestamp = new Date().toLocaleTimeString();
            log.textContent += `\n[${timestamp}] ${message}`;
            log.scrollTop = log.scrollHeight;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        calculateResourceConsumptionMultipliers();
        updateDisplay();
        logEvent('üöÄ –°–∏—Å—Ç–µ–º–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
    </script>
</body>
</html>
