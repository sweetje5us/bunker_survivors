<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞ –≤ –∏–≥—Ä–µ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        .test-section {
            background-color: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #444;
        }
        .test-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background-color: #45a049;
        }
        .log {
            background-color: #000;
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
        .status {
            background-color: #333;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞ –≤ –∏–≥—Ä–µ</h1>
    
    <div class="test-section">
        <h2>üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h2>
        <div class="status">
            <div><strong>–°–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞:</strong> <span id="exp-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</span></div>
            <div><strong>UI Overlay:</strong> <span id="ui-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</span></div>
            <div><strong>–û—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π:</strong> <span id="ability-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</span></div>
        </div>
    </div>

    <div class="test-section">
        <h2>üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π</h2>
        <div>
            <button class="test-button" onclick="testExperienceSystem()">–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞</button>
            <button class="test-button" onclick="testUIOverlay()">–¢–µ—Å—Ç UI Overlay</button>
            <button class="test-button" onclick="testAbilityPoints()">–¢–µ—Å—Ç –æ—á–∫–æ–≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π</button>
        </div>
    </div>

    <div class="test-section">
        <h2>üìù –õ–æ–≥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        <div class="log" id="test-log">
            <div>–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        </div>
        <button class="test-button" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message) {
            const logElement = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            logElement.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
        }

        // –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–∞
        function clearLog() {
            document.getElementById('test-log').innerHTML = '<div>–õ–æ–≥ –æ—á–∏—â–µ–Ω...</div>';
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞
        function testExperienceSystem() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –æ–ø—ã—Ç–∞...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π
            if (typeof window.updateGameUI === 'function') {
                log('‚úÖ window.updateGameUI –¥–æ—Å—Ç—É–ø–Ω–∞');
            } else {
                log('‚ùå window.updateGameUI –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞');
            }
            
            if (typeof window.showGameUI === 'function') {
                log('‚úÖ window.showGameUI –¥–æ—Å—Ç—É–ø–Ω–∞');
            } else {
                log('‚ùå window.showGameUI –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
            const abilitiesModal = document.getElementById('abilities-modal');
            if (abilitiesModal) {
                log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–∞–π–¥–µ–Ω–æ');
                
                const abilityPoints = document.getElementById('ability-points');
                if (abilityPoints) {
                    log(`‚úÖ –≠–ª–µ–º–µ–Ω—Ç –æ—á–∫–æ–≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–∞–π–¥–µ–Ω: ${abilityPoints.textContent}`);
                } else {
                    log('‚ùå –≠–ª–µ–º–µ–Ω—Ç –æ—á–∫–æ–≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } else {
                log('‚ùå –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –æ–ø—ã—Ç–∞
            const levelElement = document.getElementById('level');
            const xpElement = document.getElementById('xp');
            const xpFillElement = document.getElementById('xp-fill');
            
            if (levelElement) log('‚úÖ –≠–ª–µ–º–µ–Ω—Ç —É—Ä–æ–≤–Ω—è –Ω–∞–π–¥–µ–Ω');
            else log('‚ùå –≠–ª–µ–º–µ–Ω—Ç —É—Ä–æ–≤–Ω—è –Ω–µ –Ω–∞–π–¥–µ–Ω');
            
            if (xpElement) log('‚úÖ –≠–ª–µ–º–µ–Ω—Ç –æ–ø—ã—Ç–∞ –Ω–∞–π–¥–µ–Ω');
            else log('‚ùå –≠–ª–µ–º–µ–Ω—Ç –æ–ø—ã—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω');
            
            if (xpFillElement) log('‚úÖ –≠–ª–µ–º–µ–Ω—Ç —à–∫–∞–ª—ã –æ–ø—ã—Ç–∞ –Ω–∞–π–¥–µ–Ω');
            else log('‚ùå –≠–ª–µ–º–µ–Ω—Ç —à–∫–∞–ª—ã –æ–ø—ã—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω');
        }

        // –¢–µ—Å—Ç UI Overlay
        function testUIOverlay() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º UI Overlay...');
            
            if (typeof window.updateGameUI === 'function') {
                // –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
                const testData = {
                    bunkerLevel: 5,
                    bunkerExperience: 75,
                    maxExperience: 100,
                    abilityPoints: 12
                };
                
                log('üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ UI...');
                window.updateGameUI(testData);
                log('‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                setTimeout(() => {
                    const levelElement = document.getElementById('level');
                    const xpElement = document.getElementById('xp');
                    const abilityPointsElement = document.getElementById('ability-points');
                    
                    if (levelElement) {
                        log(`üìä –£—Ä–æ–≤–µ–Ω—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: ${levelElement.textContent}`);
                    }
                    if (xpElement) {
                        log(`üìä –û–ø—ã—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: ${xpElement.textContent}`);
                    }
                    if (abilityPointsElement) {
                        log(`üìä –û—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è: ${abilityPointsElement.textContent}`);
                    }
                }, 100);
            } else {
                log('‚ùå UI Overlay –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
            }
        }

        // –¢–µ—Å—Ç –æ—á–∫–æ–≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
        function testAbilityPoints() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π...');
            
            const abilityPointsElement = document.getElementById('ability-points');
            if (abilityPointsElement) {
                const currentValue = abilityPointsElement.textContent;
                log(`üìä –¢–µ–∫—É—â–∏–µ –æ—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π: ${currentValue}`);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —á–∏—Å–ª–æ
                if (!isNaN(parseInt(currentValue))) {
                    log('‚úÖ –û—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ');
                } else {
                    log('‚ùå –û—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ');
                }
            } else {
                log('‚ùå –≠–ª–µ–º–µ–Ω—Ç –æ—á–∫–æ–≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            const abilitiesModal = document.getElementById('abilities-modal');
            if (abilitiesModal) {
                log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –µ–≥–æ –æ—Ç–∫—Ä—ã—Ç—å
                if (typeof openModal === 'function') {
                    log('‚úÖ –§—É–Ω–∫—Ü–∏—è openModal –¥–æ—Å—Ç—É–ø–Ω–∞');
                } else {
                    log('‚ùå –§—É–Ω–∫—Ü–∏—è openModal –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞');
                }
            } else {
                log('‚ùå –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ');
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            setTimeout(() => {
                testExperienceSystem();
                
                setTimeout(() => {
                    testUIOverlay();
                    
                    setTimeout(() => {
                        testAbilityPoints();
                        log('üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
                    }, 500);
                }, 500);
            }, 1000);
        });
    </script>
</body>
</html>
