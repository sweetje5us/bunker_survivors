# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –ø–æ –¥–≤—É–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∂–∏—Ç–µ–ª–µ–π**: –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–ª `resident.status === '—Ä–∞–±–æ—Ç–∞–µ—Ç'`, –Ω–æ –≤ `bunkerView.ts` —Å—Ç–∞—Ç—É—Å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ [–∫–æ–º–Ω–∞—Ç–µ]`
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**: –ù–µ –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—á–µ–º—É —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–µ—Å—É—Ä—Å—ã

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

**–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```typescript
if (resident.status === '—Ä–∞–±–æ—Ç–∞–µ—Ç') {
  // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–æ–≤
}
```

**–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```typescript
if (resident.status && resident.status.startsWith('—Ä–∞–±–æ—Ç–∞–µ—Ç')) {
  // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–æ–≤
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–í –º–µ—Ç–æ–¥—ã `processHourlyResourceProduction` –∏ `getDetailedResourceInfo` –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –°—Ç–∞—Ç—É—Å—ã –≤—Å–µ—Ö –∂–∏—Ç–µ–ª–µ–π
- –ö—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–µ—Å—É—Ä—Å—ã
- –ö—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ—á–µ–º—É

## üîç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç–∞—Ç—É—Å—ã

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã:
- `—Ä–∞–±–æ—Ç–∞–µ—Ç` ‚úÖ
- `—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –°—Ç–æ–ª–æ–≤–∞—è` ‚úÖ
- `—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¢—É–∞–ª–µ—Ç` ‚úÖ
- `—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è` ‚úÖ
- `–æ—Ç–¥—ã—Ö–∞–µ—Ç` ‚ùå
- `—Å–ø–∏—Ç` ‚ùå

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
1. **–ü–æ–≤–∞—Ä–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –°—Ç–æ–ª–æ–≤–∞—è"** –±—É–¥—É—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å 5 –µ–¥. –µ–¥—ã –≤ —á–∞—Å
2. **–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¢—É–∞–ª–µ—Ç"** –±—É–¥—É—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å 4 –µ–¥. –≤–æ–¥—ã –≤ —á–∞—Å
3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ** –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö
4. **–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏** –ø–æ–∫–∞–∂—É—Ç, –∫—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–µ—Å—É—Ä—Å—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test_production_fix.html` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- –†–∞–±–æ—Ç—ã –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

- `src/scenes/GameScene.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- `test_production_fix.html` - —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `PRODUCTION_FIX_SUMMARY.md` - –¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
