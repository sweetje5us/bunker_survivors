<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        .test-section {
            background-color: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #444;
        }
        .test-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background-color: #45a049;
        }
        .test-button:disabled {
            background-color: #666;
            cursor: not-allowed;
        }
        .experience-display {
            background-color: #333;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #555;
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background-color: #4CAF50;
            transition: width 0.3s ease;
        }
        .log {
            background-color: #000;
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞</h1>
    
    <div class="test-section">
        <h2>üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å</h2>
        <div class="experience-display">
            <div><strong>–£—Ä–æ–≤–µ–Ω—å –±—É–Ω–∫–µ—Ä–∞:</strong> <span id="current-level">1</span></div>
            <div><strong>–û–ø—ã—Ç:</strong> <span id="current-xp">0</span> / <span id="max-xp">100</span></div>
            <div><strong>–û—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π:</strong> <span id="ability-points">0</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="xp-progress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—ã—Ç–∞</h2>
        <div>
            <button class="test-button" onclick="testKillEnemy('–ú–ê–†–û–î–ï–†')">–£–±–∏—Ç—å –º–∞—Ä–æ–¥–µ—Ä–∞ (+1 XP)</button>
            <button class="test-button" onclick="testKillEnemy('–ó–û–ú–ë–ò')">–£–±–∏—Ç—å –∑–æ–º–±–∏ (+3 XP)</button>
            <button class="test-button" onclick="testKillEnemy('–ú–£–¢–ê–ù–¢')">–£–±–∏—Ç—å –º—É—Ç–∞–Ω—Ç–∞ (+6 XP)</button>
            <button class="test-button" onclick="testKillEnemy('–°–û–õ–î–ê–¢')">–£–±–∏—Ç—å —Å–æ–ª–¥–∞—Ç–∞ (+10 XP)</button>
        </div>
        <div style="margin-top: 10px;">
            <button class="test-button" onclick="testNewDay()">–ù–æ–≤—ã–π –¥–µ–Ω—å (+25 XP)</button>
            <button class="test-button" onclick="testLevelUp()">–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è</button>
        </div>
    </div>

    <div class="test-section">
        <h2>üìù –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π</h2>
        <div class="log" id="event-log">
            <div>–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        </div>
        <button class="test-button" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
    </div>

    <script>
        // –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä—ã
        let gameState = {
            level: 1,
            experience: 0,
            maxExperience: 100,
            abilityPoints: 0
        };

        // –§—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message) {
            const logElement = document.getElementById('event-log');
            const timestamp = new Date().toLocaleTimeString();
            logElement.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
        }

        // –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–∞
        function clearLog() {
            document.getElementById('event-log').innerHTML = '<div>–õ–æ–≥ –æ—á–∏—â–µ–Ω...</div>';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        function updateUI() {
            document.getElementById('current-level').textContent = gameState.level;
            document.getElementById('current-xp').textContent = gameState.experience;
            document.getElementById('max-xp').textContent = gameState.maxExperience;
            document.getElementById('ability-points').textContent = gameState.abilityPoints;
            
            const progress = (gameState.experience / gameState.maxExperience) * 100;
            document.getElementById('xp-progress').style.width = `${Math.max(0, Math.min(100, progress))}%`;
        }

        // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞
        function awardExperience(source, amount) {
            gameState.experience += amount;
            log(`üéØ +${amount} XP –∑–∞: ${source}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
            checkLevelUp();
            
            updateUI();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
        function checkLevelUp() {
            while (gameState.experience >= gameState.maxExperience) {
                gameState.experience -= gameState.maxExperience;
                gameState.level++;
                gameState.maxExperience = 100; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—ã—Ç–∞
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ—á–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
                gameState.abilityPoints += 3;
                
                log(`üéâ –£–†–û–í–ï–ù–¨ –ü–û–í–´–®–ï–ù! –ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: ${gameState.level} (+3 –æ—á–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π)`);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
                showLevelUpEffect();
            }
        }

        // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
        function showLevelUpEffect() {
            const body = document.body;
            
            // –°–æ–∑–¥–∞–µ–º –≤—Å–ø—ã—à–∫—É
            const flash = document.createElement('div');
            flash.style.position = 'fixed';
            flash.style.top = '0';
            flash.style.left = '0';
            flash.style.width = '100%';
            flash.style.height = '100%';
            flash.style.backgroundColor = 'rgba(0, 255, 0, 0.3)';
            flash.style.zIndex = '9999';
            flash.style.pointerEvents = 'none';
            body.appendChild(flash);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Å–ø—ã—à–∫–∏
            setTimeout(() => {
                flash.style.transition = 'opacity 1s ease';
                flash.style.opacity = '0';
                setTimeout(() => flash.remove(), 1000);
            }, 100);
            
            // –°–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç LEVEL UP
            const levelUpText = document.createElement('div');
            levelUpText.textContent = 'LEVEL UP!';
            levelUpText.style.position = 'fixed';
            levelUpText.style.top = '50%';
            levelUpText.style.left = '50%';
            levelUpText.style.transform = 'translate(-50%, -50%)';
            levelUpText.style.fontSize = '48px';
            levelUpText.style.color = '#00ff00';
            levelUpText.style.textShadow = '2px 2px 4px #000';
            levelUpText.style.zIndex = '10000';
            levelUpText.style.pointerEvents = 'none';
            body.appendChild(levelUpText);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
            setTimeout(() => {
                levelUpText.style.transition = 'transform 0.5s ease';
                levelUpText.style.transform = 'translate(-50%, -50%) scale(1.5)';
                setTimeout(() => {
                    levelUpText.style.transform = 'translate(-50%, -50%) scale(1)';
                    setTimeout(() => levelUpText.remove(), 500);
                }, 500);
            }, 100);
        }

        // –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function testKillEnemy(enemyType) {
            const experienceReward = getEnemyExperienceReward(enemyType);
            awardExperience(`—É–±–∏–π—Å—Ç–≤–æ ${enemyType}`, experienceReward);
        }

        function testNewDay() {
            awardExperience('–ø—Ä–æ–∂–∏—Ç—ã–π –¥–µ–Ω—å', 25);
        }

        function testLevelUp() {
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø—ã—Ç–∞ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
            const needed = gameState.maxExperience - gameState.experience;
            if (needed > 0) {
                awardExperience('—Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ', needed);
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∑–∞ –≤—Ä–∞–≥–∞
        function getEnemyExperienceReward(enemyType) {
            switch (enemyType) {
                case '–ú–ê–†–û–î–ï–†': return 1;
                case '–ó–û–ú–ë–ò': return 3;
                case '–ú–£–¢–ê–ù–¢': return 6;
                case '–°–û–õ–î–ê–¢': return 10;
                default: return 2;
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            updateUI();
            log('üöÄ –°–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            log('üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤');
        });
    </script>
</body>
</html>
